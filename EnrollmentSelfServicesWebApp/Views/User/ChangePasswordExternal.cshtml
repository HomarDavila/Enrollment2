@{
    ViewBag.Title = "Cambio de Contraseña";
    Layout = "~/Views/Shared/_LayoutResetPassword.cshtml";
}
<div class="d-flex justify-content-center mt-3">

    <div class="card col-lg-8">
        <div class="card-body">
            <div class="row mb-2">
                <div class="col-2 ">
                    <a class="mt-2" onclick="RedirectToLogin();">
                        @*<img src=@Url.Content("~/wwwroot/images/back_icon.png") class="mt-3 ml-3 mr-3" style="width:35px; height:35px;" />*@
                    </a>
                </div>
                <div class="col-6">
                    <h5 class="mt-2" data-i18n="ChangePassword_title">Cambio de Contraseña</h5>
                </div>
            </div>
            <form id="changePasswordForm" class="needs-validation" autocomplete="off" novalidate>
                <div class="row">
                    <div class="col-lg-6  mb-3">
                        <div class="form-row">
                            <label for="userName-field" data-i18n="restaurarpassword_email">Usuario</label>
                            <div class="mb-3 input-group">
                                <input id="userName-field" required type="email" maxlength="500" class="form-control" name="user" data-i18n="[placeholder]restaurarpassword_email" placeholder="Usuario" autocomplete="one-time-code">
                                <div class="invalid-feedback" data-i18n="registerUser_email_validation"></div>
                                @*check*@
                                <div class="valid-feedback"><img src="~/wwwroot/images/CheckMark.svg" /></div>
                                @*<div class="invalid-feedback" data-i18n="registerUser_password_validation"></div>*@
                            </div>
                        </div>
                        <div class="form-row">
                            <label for="mpi-field">MPI</label>
                            <div class="mb-3 input-group">
                                <input id="mpi-field" required  maxlength="20" class="form-control" name="mpi" placeholder="MPI" autocomplete="one-time-code">
                                <div class="invalid-feedback" data-i18n="registerUser_mpi_validation"></div>
                                <div class="valid-feedback"><img src="~/wwwroot/images/CheckMark.svg" /></div>
                            </div>
                        </div>
                        <div class="form-row">
                            <label for="register-password-field" data-i18n="NewUser_password">Contraseña</label>
                            <div class="col-md-12  mb-3 input-group">
                                <input maxlength="20" data-minlength="8" required id="register-password-field" class="form-control PasswordInput" type="password" name="password" data-i18n="[placeholder]registerUser_password" oninput="validPassword2()" placeholder="Contraseña" autocomplete="one-time-code">
                                <div class="input-group-append">
                                    <button class="btn btn-block btn-primary ShowPassword" type="button">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                </div>
                                <div class="valid-feedback"><img src="~/wwwroot/images/CheckMark.svg" /></div>
                                <div class="invalid-feedback" data-i18n="registerUser_password_validation"></div>
                            </div>
                        </div>
                        <div class="form-row">
                            <label for="register-confirm-password-field" data-i18n="registerUser_confirmpassword">Confirmar Contraseña</label>
                            <div class="col-md-12  mb-3 input-group">
                                <input maxlength="20" data-minlength="8" required id="register-confirm-password-field" class="form-control PasswordInput" type="password" name="passwordConfirm" data-i18n="[placeholder]registerUser_confirmpassword" oninput="validPassword()" placeholder="Confirmar Contraseña" autocomplete="one-time-code">
                                <div class="input-group-append">
                                    <button class="btn btn-block btn-primary ShowPassword" type="button">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                </div>
                                <div class="valid-feedback"><img src="~/wwwroot/images/CheckMark.svg" /></div>
                                <div class="invalid-feedback" id="confirmPasswordInvalidFeedback" data-i18n="registerUser_password_validation"></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6 align-self-center">

                        <div class="form-group">
                            <div class="col-md-12">
                                <p data-i18n="registerUser_password_info_one" class="font-weight-bold">La contraseña debe contener:</p>
                                <div id="registerUser_password_validation_one" style="font-size:12px!important" data-i18n="registerUser_password_info_two"> 8 a 20, caracteres</div>
                                <div id="registerUser_password_validation_two" style="font-size:12px!important" data-i18n="registerUser_password_info_three"> Números</div>
                                <div id="registerUser_password_validation_three" style="font-size:12px!important"><span data-i18n="registerUser_password_info_four">Caracteres especiales como</span> #$%&'()*+,-./:;<=>?[\]^_`{|}~</div>
                            </div>
                        </div>

                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12  mb-3">
                        <input class="btn btn-primary" type="submit" style="width:100%;" data-i18n="[value]Change" value="Cambiar" />
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

@section scripts{
    <script src="~/wwwroot/lib/jquery.redirect/dist/jquery.redirect.js"></script>
    <script src="~/wwwroot/lib/jquery.date-dropdowns/dist/jquery.date-dropdowns.js"></script>
    <script src="~/wwwroot/js/site.js"></script>
    <script src="~/wwwroot/js/ChangePasswordExternal.js"></script>
    <script>
        //var UserId = '@ViewBag.UserId';

        var urlChangePasswordExternal = '@Url.Action("ChangePasswordExternal", "User")';
        var urlLogin = '@Url.Action("Login", "User")';
        var urlRegister = '@Url.Action("Register", "User")';
        var urlRegisterWithQuestion = '@Url.Action("RegisterWithQuestions", "User")';
        var urlSecurityQuestions = '@Url.Action("Get", "SecurityQuestion")';
        var urlHome = '@Url.Action("Welcome", "Home")';
        var dateDropDown;
    </script>
}

